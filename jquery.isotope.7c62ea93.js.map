{"version":3,"sources":["js/jquery.isotope.js"],"names":["window","$","undefined","document","testName","transitionEndEvent","transitionDurProp","Modernizr","capitalize","str","charAt","toUpperCase","slice","prefixes","split","getStyleProperty","propName","style","prefixed","documentElement","i","len","length","transformProp","transitionProp","tests","csstransforms","csstransforms3d","test","vendorCSSPrefixes","mediaQuery","join","$style","appendTo","$div","height","remove","csstransitions","hasOwnProperty","addTest","_version","classes","result","addClass","transformFnNotations","translate","position","scale","setIsoTransform","elem","name","value","data","fnName","transformValue","newData","transformObj","extend","translateFn","valueFns","cssNumber","cssHooks","set","get","computed","transform","fx","step","now","unit","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","transitionProperty","$event","resizeTimeout","event","dispatchMethod","handle","special","smartresize","setup","bind","handler","teardown","unbind","execAsap","context","args","arguments","type","clearTimeout","setTimeout","apply","fn","trigger","Isotope","options","element","callback","_create","_init","isoContainerStyles","$window","settings","resizable","layoutMode","containerClass","itemClass","hiddenClass","hiddenStyle","opacity","visibleStyle","containerStyle","overflow","animationEngine","animationOptions","queue","duration","sortBy","sortAscending","resizesContainer","transformsEnabled","itemPositionDataEnabled","prototype","styleQueue","elemCount","elemStyle","originalStyle","containerStyles","prop","push","css","_updateAnimationEngine","_updateUsingTransforms","originalOrderSorter","$elem","instance","random","Math","getSortData","reloadItems","offset","left","parseInt","top","resize","delegate","_getAtoms","$elems","selector","itemSelector","$atoms","filter","add","find","atomStyle","atom","nodeType","usingTransforms","updateSortData","$filteredAtoms","_filter","$allAtoms","_sort","reLayout","option","opts","updateOptionFn","isPlainObject","optionName","isUsingJQueryAnimation","toLowerCase","replace","_updateTransformsEnabled","getPositionStyles","_translate","_positionAbs","hiddenSelector","$hiddenAtoms","$atomsToShow","$atomsToHide","not","$el","removeClass","isIncrementingElemCount","$this","sortData","each","key","getSorter","_getSorter","sortDir","sort","alpha","beta","a","b","x","y","_pushPosition","round","layout","_processStyleQueue","isLaidOut","styleFn","objStyleFn","processor","triggerCallbackNow","callbackFn","animOpts","onLayout","obj","_isInserting","hasClass","complete","isCallbackTriggered","callbacks","hollaback","call","styleObj","firstItem","testElem","parseFloat","getComputedStyle","one","addItems","$content","$newAtoms","insert","append","$newFilteredAtoms","_addHideAppended","_revealAppended","appended","children","removeContent","shuffle","destroy","undelegate","removeData","_getSegments","isRows","namespace","segments","measure","size","segmentsName","containerSize","segmentSize","floor","max","_checkIfSegmentsChanged","prevSegments","_masonryReset","masonry","cols","colYs","_masonryLayout","props","colSpan","ceil","outerWidth","columnWidth","min","_masonryPlaceBrick","groupCount","groupColY","groupY","$brick","setY","minimumY","shortCol","setHeight","outerHeight","setSpan","_masonryGetContainerSize","_masonryResizeChanged","_fitRowsReset","fitRows","_fitRowsLayout","containerWidth","width","atomW","atomH","_fitRowsGetContainerSize","_fitRowsResizeChanged","_cellsByRowReset","cellsByRow","index","_cellsByRowLayout","col","row","rowHeight","_cellsByRowGetContainerSize","_cellsByRowResizeChanged","_straightDownReset","straightDown","_straightDownLayout","_straightDownGetContainerSize","_straightDownResizeChanged","_masonryHorizontalReset","masonryHorizontal","rows","rowXs","_masonryHorizontalLayout","rowSpan","_masonryHorizontalPlaceBrick","groupRowX","groupX","setX","minimumX","smallRow","setWidth","_masonryHorizontalGetContainerSize","_masonryHorizontalResizeChanged","_fitColumnsReset","fitColumns","_fitColumnsLayout","containerHeight","_fitColumnsGetContainerSize","_fitColumnsResizeChanged","_cellsByColumnReset","cellsByColumn","_cellsByColumnLayout","_cellsByColumnGetContainerSize","_cellsByColumnResizeChanged","_straightAcrossReset","straightAcross","_straightAcrossLayout","_straightAcrossGetContainerSize","_straightAcrossResizeChanged","imagesLoaded","$images","blank","loaded","triggerCallback","imgLoaded","img","target","src","inArray","logError","message","console","error","isotope","Array","isFunction","jQuery"],"mappings":";CAKA,SAAWA,EAAQC,EAAGC,GAAW,aAK3BC,IAuFAC,EAsJAC,EAAoBC,EA7OpBH,EAAWH,EAAOG,SAClBI,EAAYP,EAAOO,UAGnBC,EAAa,SAAUC,GAClBA,OAAAA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,MAAM,IAM7CC,EAAW,kBAAkBC,MAAM,KAEnCC,EAAmB,SAAUC,GAC3BC,IACAC,EADAD,EAAQd,EAASgB,gBAAgBF,MAIhC,GAA2B,iBAApBA,EAAMD,GACTA,OAAAA,EAITA,EAAWR,EAAYQ,GAGjB,IAAA,IAAII,EAAE,EAAGC,EAAMR,EAASS,OAAQF,EAAIC,EAAKD,IAExC,GAA6B,iBAAtBH,EADZC,EAAWL,EAASO,GAAKJ,GAEhBE,OAAAA,GAKTK,EAAgBR,EAAiB,aACjCS,EAAiBT,EAAiB,sBAwBlCU,EAAQ,CACVC,cAAe,WACN,QAAEH,GAGXI,gBAAiB,WACXC,IAAAA,IAASb,EAAiB,eAEzBa,GAAAA,EAAO,CACNC,IACAC,EAAa,WADO,oCAAoChB,MAAM,KAClBiB,KAAK,mBAAqB,aACtEC,EAAS/B,EAAE,UAAY6B,EAAa,oCACvBG,SAAS,QACtBC,EAAOjC,EAAE,0BAA0BgC,SAAS,QAEhDL,EAAyB,IAAlBM,EAAKC,SAEZD,EAAKE,SACLJ,EAAOI,SAEFR,OAAAA,GAGTS,eAAgB,WACP,QAAEb,IAMRjB,GAAAA,EAEGH,IAAAA,KAAYqB,EACVlB,EAAU+B,eAAgBlC,IAE9BG,EAAUgC,QAASnC,EAAUqB,EAAOrB,QAGnC,CAELG,EAAYP,EAAOO,UAAY,CAC7BiC,SAAW,qCAGTC,IACAC,EADAD,EAAU,IAIRrC,IAAAA,KAAYqB,EAChBiB,EAASjB,EAAOrB,KAChBG,EAAWH,GAAasC,EACxBD,GAAW,KAAQC,EAAU,GAAK,OAAUtC,EAI9CH,EAAE,QAAQ0C,SAAUF,GAajBlC,GAAAA,EAAUmB,cAAgB,CAGzBkB,IAAAA,EAAuBrC,EAAUoB,gBACnC,CACEkB,UAAY,SAAWC,GACd,MAAA,eAAiBA,EAAS,GAAK,OAASA,EAAS,GAAK,WAE/DC,MAAQ,SAAWA,GACV,MAAA,WAAaA,EAAQ,KAAOA,EAAQ,UAG/C,CACEF,UAAY,SAAWC,GACd,MAAA,aAAeA,EAAS,GAAK,OAASA,EAAS,GAAK,QAE7DC,MAAQ,SAAWA,GACV,MAAA,SAAWA,EAAQ,OAK5BC,EAAkB,SAAWC,EAAMC,EAAMC,GAEvCC,IAEAC,EAEAC,EAJAF,EAAQnD,EAAEmD,KAAMH,EAAM,iBAAoB,GAC1CM,EAAU,GAEVC,EAAe,GAQbH,IAAAA,KAJNE,EAASL,GAASC,EAElBlD,EAAEwD,OAAQL,EAAMG,GAEAH,EACdE,EAAiBF,EAAMC,GACvBG,EAAcH,GAAWT,EAAsBS,GAAUC,GAMvDI,IAGAC,GAHcH,EAAaX,WAAa,KAC9BW,EAAaT,OAAS,IAKpC9C,EAAEmD,KAAMH,EAAM,eAAgBG,GAG9BH,EAAKhC,MAAOM,GAAkBoC,GAKhC1D,EAAE2D,UAAUb,OAAQ,EAEpB9C,EAAE4D,SAASd,MAAQ,CACjBe,IAAK,SAAUb,EAAME,GAKnBH,EAAiBC,EAAM,QAASE,IAElCY,IAAK,SAAUd,EAAMe,GACfC,IAAAA,EAAYhE,EAAEmD,KAAMH,EAAM,gBACvBgB,OAAAA,GAAaA,EAAUlB,MAAQkB,EAAUlB,MAAQ,IAI5D9C,EAAEiE,GAAGC,KAAKpB,MAAQ,SAAUmB,GAC1BjE,EAAE4D,SAASd,MAAMe,IAAKI,EAAGjB,KAAMiB,EAAGE,IAAIF,EAAGG,OAM3CpE,EAAE2D,UAAUf,WAAY,EAExB5C,EAAE4D,SAAShB,UAAY,CACrBiB,IAAK,SAAUb,EAAME,GAenBH,EAAiBC,EAAM,YAAaE,IAGtCY,IAAK,SAAUd,EAAMe,GACfC,IAAAA,EAAYhE,EAAEmD,KAAMH,EAAM,gBACvBgB,OAAAA,GAAaA,EAAUpB,UAAYoB,EAAUpB,UAAY,CAAE,EAAG,KAStEtC,EAAU8B,iBACbhC,EAAqB,CACnBiE,yBAA0B,sBAC1BC,sBAAuB,gBACvBC,oBAAqB,gCACrBC,mBAAoB,iBACnBjD,GAEHlB,EAAoBS,EAAiB,uBAenC2D,IAEAC,EAFAD,EAASzE,EAAE2E,MACXC,EAAiB5E,EAAE2E,MAAME,OAAS,SAAW,WAGjDJ,EAAOK,QAAQC,YAAc,CAC3BC,MAAO,WACLhF,EAAE,MAAMiF,KAAM,SAAUR,EAAOK,QAAQC,YAAYG,UAErDC,SAAU,WACRnF,EAAE,MAAMoF,OAAQ,SAAUX,EAAOK,QAAQC,YAAYG,UAEvDA,QAAS,SAAUP,EAAOU,GAEpBC,IAAAA,EAAU,KACVC,EAAOC,UAGXb,EAAMc,KAAO,cAERf,GAAkBgB,aAAchB,GACrCA,EAAgBiB,WAAW,WACzBlB,EAAQG,GAAiBgB,MAAON,EAASC,IAC3B,aAAbF,EAAyB,EAAI,OAIpCrF,EAAE6F,GAAGd,YAAc,SAAUc,GACpBA,OAAAA,EAAK,KAAKZ,KAAM,cAAeY,GAAO,KAAKC,QAAS,cAAe,CAAC,cAS7E9F,EAAE+F,QAAU,SAAUC,EAASC,EAASC,GACjCD,KAAAA,QAAUjG,EAAGiG,GAEbE,KAAAA,QAASH,GACTI,KAAAA,MAAOF,IAIVG,IAAAA,EAAqB,CAAE,QAAS,UAEhCC,EAAUtG,EAAED,GAEhBC,EAAE+F,QAAQQ,SAAW,CACnBC,WAAW,EACXC,WAAa,UACbC,eAAiB,UACjBC,UAAY,eACZC,YAAc,iBACdC,YAAa,CAAEC,QAAS,EAAGhE,MAAO,MAClCiE,aAAc,CAAED,QAAS,EAAGhE,MAAO,GACnCkE,eAAgB,CACdnE,SAAU,WACVoE,SAAU,UAEZC,gBAAiB,iBACjBC,iBAAkB,CAChBC,OAAO,EACPC,SAAU,KAEZC,OAAS,iBACTC,eAAgB,EAChBC,kBAAmB,EACnBC,mBAAmB,EACnBC,yBAAyB,GAG3B1H,EAAE+F,QAAQ4B,UAAY,CAGpBxB,QAAU,SAAUH,GAEbA,KAAAA,QAAUhG,EAAEwD,OAAQ,GAAIxD,EAAE+F,QAAQQ,SAAUP,GAE5C4B,KAAAA,WAAa,GACbC,KAAAA,UAAY,EAGbC,IAAAA,EAAY,KAAK7B,QAAQ,GAAGjF,MAC3B+G,KAAAA,cAAgB,GAEjBC,IAAAA,EAAkB3B,EAAmB1F,MAAM,GACzC,IAAA,IAAIsH,KAAQ,KAAKjC,QAAQgB,eAC7BgB,EAAgBE,KAAMD,GAElB,IAAA,IAAI9G,EAAE,EAAGC,EAAM4G,EAAgB3G,OAAQF,EAAIC,EAAKD,IACpD8G,EAAOD,EAAgB7G,GAClB4G,KAAAA,cAAeE,GAASH,EAAWG,IAAU,GAG/ChC,KAAAA,QAAQkC,IAAK,KAAKnC,QAAQgB,gBAE1BoB,KAAAA,yBACAC,KAAAA,yBAGDC,IAAAA,EAAsB,CACL,iBAAA,SAAUC,EAAOC,GAE3BA,OADPA,EAASX,YACFW,EAASX,WAElBY,OAAS,WACAC,OAAAA,KAAKD,WAIXzC,KAAAA,QAAQ2C,YAAc3I,EAAEwD,OAAQ,KAAKwC,QAAQ2C,YAAaL,GAG1DM,KAAAA,cAGAC,KAAAA,OAAS,CACZC,KAAMC,SAAY,KAAK9C,QAAQkC,IAAI,iBAAmB,EAAK,IAC3Da,IAAKD,SAAY,KAAK9C,QAAQkC,IAAI,gBAAkB,EAAK,KAIvDK,IAAAA,EAAW,KACf7C,WAAY,WACV6C,EAASvC,QAAQvD,SAAU8F,EAASxC,QAAQU,iBAC3C,GAGE,KAAKV,QAAQQ,WAChBF,EAAQrB,KAAM,sBAAuB,WACnCuD,EAASS,WAKRhD,KAAAA,QAAQiD,SAAU,IAAM,KAAKlD,QAAQY,YAAa,QAAS,WACvD,OAAA,KAKXuC,UAAY,SAAUC,GAChBC,IAAAA,EAAW,KAAKrD,QAAQsD,aAExBC,EAASF,EAAWD,EAAOI,OAAQH,GAAWI,IAAKL,EAAOM,KAAML,IAAeD,EAE/EO,EAAY,CAAE9G,SAAU,YAgBrB0G,OAbPA,EAASA,EAAOC,OAAQ,SAAUrI,EAAGyI,GAC5BA,OAAkB,IAAlBA,EAAKC,WAGT,KAAKC,kBACRH,EAAUb,KAAO,EACjBa,EAAUX,IAAM,GAGlBO,EAAOpB,IAAKwB,GAAYjH,SAAU,KAAKsD,QAAQW,WAE1CoD,KAAAA,eAAgBR,GAAQ,GAEtBA,GAOTnD,MAAQ,SAAUF,GAEX8D,KAAAA,eAAiB,KAAKC,QAAS,KAAKC,WACpCC,KAAAA,QACAC,KAAAA,SAAUlE,IAIjBmE,OAAS,SAAUC,GAOXC,IAAAA,EAJDvK,GAAAA,EAAEwK,cAAeF,GAKd,IAAA,IAAIG,KAJLzE,KAAAA,QAAUhG,EAAEwD,QAAQ,EAAM,KAAKwC,QAASsE,GAIrBA,EAEjB,KADLC,EAAiB,UAAYhK,EAAYkK,KAEjCF,KAAAA,MASdnC,uBAAyB,WACnBlB,IACAwD,EAEKxD,OAHa,KAAKlB,QAAQkB,gBAAgByD,cAAcC,QAAS,UAAW,KAI9E,IAAA,MACA,IAAA,OACHF,GAAyB,EACzB,MACG,IAAA,SACHA,GAAyB,EACzB,MACF,QACEA,GAA0BpK,EAAU8B,eAEnCsI,KAAAA,uBAAyBA,EACzBrC,KAAAA,0BAGPwC,yBAA2B,WACpBxC,KAAAA,0BAGPA,uBAAyB,WACnByB,IAAAA,EAAkB,KAAKA,gBAAkB,KAAK9D,QAAQyB,mBACxDnH,EAAUmB,eAAiBnB,EAAU8B,iBAAmB,KAAKsI,uBAGzDZ,WACG,KAAK9D,QAAQa,YAAY/D,aACzB,KAAKkD,QAAQe,aAAajE,OAG9BgI,KAAAA,kBAAoBhB,EAAkB,KAAKiB,WAAa,KAAKC,cAMpEf,QAAU,SAAUV,GACdC,IAAAA,EAAiC,KAAxB,KAAKxD,QAAQwD,OAAgB,IAAM,KAAKxD,QAAQwD,OAExD,IAACA,EACGD,OAAAA,EAGL3C,IAAAA,EAAiB,KAAKZ,QAAQY,YAC9BqE,EAAiB,IAAMrE,EACvBsE,EAAiB3B,EAAOC,OAAQyB,GAChCE,EAAiBD,EAEhB1B,GAAW,MAAXA,EAAiB,CACpB2B,EAAeD,EAAa1B,OAAQA,GAChC4B,IAAAA,EAAe7B,EAAO8B,IAAKJ,GAAiBI,IAAK7B,GAAS9G,SAAUkE,GACnEgB,KAAAA,WAAWM,KAAK,CAAEoD,IAAKF,EAAcpK,MAAO,KAAKgF,QAAQa,cAMzD0C,OAHF3B,KAAAA,WAAWM,KAAK,CAAEoD,IAAKH,EAAcnK,MAAO,KAAKgF,QAAQe,eAC9DoE,EAAaI,YAAa3E,GAEnB2C,EAAOC,OAAQA,IAKxBO,eAAiB,SAAUR,EAAQiC,GAC7BhD,IAEAiD,EAAOC,EAFPlD,EAAW,KACXG,EAAc,KAAK3C,QAAQ2C,YAE/BY,EAAOoC,KAAK,WAIJ,IAAA,IAAIC,KAHVH,EAAQzL,EAAE,MACV0L,EAAW,GAEM/C,EAKb+C,EAAUE,GAJNJ,GAAmC,mBAARI,EAIbjD,EAAaiD,GAAOH,EAAOjD,GAF3BxI,EAAEmD,KAAM,KAAM,qBAAuByI,GAM3D5L,EAAEmD,KAAM,KAAM,oBAAqBuI,MAKvCvB,MAAQ,WAEF7C,IAAAA,EAAS,KAAKtB,QAAQsB,OACtBuE,EAAY,KAAKC,WACjBC,EAAU,KAAK/F,QAAQuB,cAAgB,GAAK,EAY3CyC,KAAAA,eAAegC,KAXP,SAAUC,EAAOC,GACpBC,IAAAA,EAAIN,EAAWI,EAAO3E,GACtB8E,EAAIP,EAAWK,EAAM5E,GAMlB,OAJF6E,IAAMC,GAAgB,mBAAX9E,IACd6E,EAAIN,EAAWI,EAAO,kBACtBG,EAAIP,EAAWK,EAAM,oBAEZC,EAAIC,EAAM,EAAMD,EAAIC,GAAO,EAAI,GAAML,KAMxDD,WAAa,SAAU9I,EAAMsE,GACpBtH,OAAAA,EAAEmD,KAAMH,EAAM,qBAAuBsE,IAK9CyD,WAAa,SAAUsB,EAAGC,GACjB,MAAA,CAAE1J,UAAY,CAAEyJ,EAAGC,KAG5BtB,aAAe,SAAUqB,EAAGC,GACnB,MAAA,CAAExD,KAAMuD,EAAGrD,IAAKsD,IAGzBC,cAAgB,SAAUhE,EAAO8D,EAAGC,GAClCD,EAAI3D,KAAK8D,MAAOH,EAAI,KAAKxD,OAAOC,MAChCwD,EAAI5D,KAAK8D,MAAOF,EAAI,KAAKzD,OAAOG,KAC5BnG,IAAAA,EAAW,KAAKiI,kBAAmBuB,EAAGC,GACrC1E,KAAAA,WAAWM,KAAK,CAAEoD,IAAK/C,EAAOvH,MAAO6B,IACrC,KAAKmD,QAAQ0B,yBAChBa,EAAMpF,KAAK,wBAAyB,CAACkJ,EAAGA,EAAGC,EAAGA,KASlDG,OAAS,SAAUrD,EAAQlD,GAErBO,IAAAA,EAAa,KAAKT,QAAQS,WAMzB,GAHC,KAAA,IAAOA,EAAa,UAAY2C,GAGjC,KAAKpD,QAAQwB,iBAAmB,CAC/BR,IAAAA,EAAiB,KAAM,IAAOP,EAAa,sBAC1CmB,KAAAA,WAAWM,KAAK,CAAEoD,IAAK,KAAKrF,QAASjF,MAAOgG,IAG9C0F,KAAAA,mBAAoBtD,EAAQlD,GAE5ByG,KAAAA,WAAY,GAGnBD,mBAAqB,SAAUtD,EAAQlD,GAGjC0G,IAKAC,EAAYC,EACZC,EAAoBC,EANpBJ,EAAW,KAAKD,WACd,KAAKjC,uBAAyB,UADJ,MAG5BuC,EAAW,KAAKjH,QAAQmB,iBACxB+F,EAAW,KAAKlH,QAAQkH,SASvB,GAJLJ,EAAY,SAAU3L,EAAGgM,GACvBA,EAAI7B,IAAKsB,GAAWO,EAAInM,MAAOiM,IAG5B,KAAKG,cAAgB,KAAK1C,uBAE7BoC,EAAY,SAAU3L,EAAGgM,GAEvBN,EAAaM,EAAI7B,IAAI+B,SAAS,iBAAmB,MAAQT,EACzDO,EAAI7B,IAAKuB,GAAcM,EAAInM,MAAOiM,SAG/B,GAAK/G,GAAYgH,GAAYD,EAASK,SAAW,CAElDC,IAAAA,GAAsB,EAEtBC,EAAY,CAAEtH,EAAUgH,EAAUD,EAASK,UAC3C9E,EAAW,KAiBV,GAhBLuE,GAAqB,EAErBC,EAAa,WACNO,IAAAA,EAAAA,CAIA,IADDE,IAAAA,EACKtM,EAAE,EAAGC,EAAMoM,EAAUnM,OAAQF,EAAIC,EAAKD,IAEnB,mBAD1BsM,EAAYD,EAAUrM,KAEpBsM,EAAUC,KAAMlF,EAASvC,QAASmD,EAAQZ,GAG9C+E,GAAsB,IAGnB,KAAK7C,wBAAsC,YAAZkC,EAElCK,EAASK,SAAWN,EACpBD,GAAqB,OAEhB,GAAKzM,EAAU8B,eAAiB,CAO7B,IALJjB,IAGAwM,EAHAxM,EAAI,EACJyM,EAAY,KAAKhG,WAAW,GAC5BiG,EAAWD,GAAaA,EAAUtC,KAG7BuC,IAAaA,EAASxM,QAAS,CAGjC,KAFLsM,EAAW,KAAK/F,WAAYzG,MAG1B,OAEF0M,EAAWF,EAASrC,IAIPwC,WAAYC,iBAAkBF,EAAS,IAAMxN,IAC5C,IACdyM,EAAY,SAAU3L,EAAGgM,GACvBA,EAAI7B,IAAKsB,GAAWO,EAAInM,MAAOiM,GAE5Be,IAAK5N,EAAoB4M,IAE9BD,GAAqB,IAM3B/M,EAAE2L,KAAM,KAAK/D,WAAYkF,GAEpBC,GACHC,IAIGpF,KAAAA,WAAa,IAIpBqB,OAAS,WACF,KAAM,IAAM,KAAKjD,QAAQS,WAAa,oBACpC2D,KAAAA,YAKTA,SAAW,SAAUlE,GAEb,KAAA,IAAO,KAAKF,QAAQS,WAAa,WAClCgG,KAAAA,OAAQ,KAAKzC,eAAgB9D,IASpC+H,SAAW,SAAUC,EAAUhI,GACzBiI,IAAAA,EAAY,KAAKhF,UAAW+E,GAE3BhE,KAAAA,UAAY,KAAKA,UAAUT,IAAK0E,GAEhCjI,GACHA,EAAUiI,IAMdC,OAAS,SAAUF,EAAUhI,GAEtBD,KAAAA,QAAQoI,OAAQH,GAEjB1F,IAAAA,EAAW,KACVyF,KAAAA,SAAUC,EAAU,SAAUC,GAC7BG,IAAAA,EAAoB9F,EAASyB,QAASkE,GAC1C3F,EAAS+F,iBAAkBD,GAC3B9F,EAAS2B,QACT3B,EAAS4B,WACT5B,EAASgG,gBAAiBF,EAAmBpI,MAMjDuI,SAAW,SAAUP,EAAUhI,GACzBsC,IAAAA,EAAW,KACVyF,KAAAA,SAAUC,EAAU,SAAUC,GACjC3F,EAAS+F,iBAAkBJ,GAC3B3F,EAASiE,OAAQ0B,GACjB3F,EAASgG,gBAAiBL,EAAWjI,MAKzCqI,iBAAmB,SAAUJ,GACtBnE,KAAAA,eAAiB,KAAKA,eAAeP,IAAK0E,GAC/CA,EAAUzL,SAAS,iBAEd0K,KAAAA,cAAe,EAGfxF,KAAAA,WAAWM,KAAK,CAAEoD,IAAK6C,EAAWnN,MAAO,KAAKgF,QAAQa,eAI7D2H,gBAAkB,SAAUL,EAAWjI,GACjCsC,IAAAA,EAAW,KAEf7C,WAAY,WAEVwI,EAAU5C,YAAY,iBAEtB/C,EAASZ,WAAWM,KAAK,CAAEoD,IAAK6C,EAAWnN,MAAOwH,EAASxC,QAAQe,eACnEyB,EAAS4E,cAAe,EACxB5E,EAASkE,mBAAoByB,EAAWjI,IACvC,KAIL0C,YAAc,WACPsB,KAAAA,UAAY,KAAKf,UAAW,KAAKlD,QAAQyI,aAIhDvM,OAAQ,SAAU+L,EAAUhI,GAErBgE,KAAAA,UAAY,KAAKA,UAAUmB,IAAK6C,GAChClE,KAAAA,eAAiB,KAAKA,eAAeqB,IAAK6C,GAE3C1F,IAAAA,EAAW,KACXmG,EAAgB,WAClBT,EAAS/L,SACJ+D,GACHA,EAASwH,KAAMlF,EAASvC,UAIvBiI,EAAS1E,OAAQ,SAAW,KAAKxD,QAAQY,YAAc,KAAMvF,QAE3DuG,KAAAA,WAAWM,KAAK,CAAEoD,IAAK4C,EAAUlN,MAAO,KAAKgF,QAAQa,cACrDsD,KAAAA,QACAC,KAAAA,SAAUuE,IAGfA,KAKJC,QAAU,SAAU1I,GACb6D,KAAAA,eAAgB,KAAKG,WACrBlE,KAAAA,QAAQsB,OAAS,SACjB6C,KAAAA,QACAC,KAAAA,SAAUlE,IAIjB2I,QAAU,WAEJ/E,IAAAA,EAAkB,KAAKA,gBACvB9D,EAAU,KAAKA,QAEdkE,KAAAA,UACFqB,YAAavF,EAAQY,YAAc,IAAMZ,EAAQW,WACjDgF,KAAK,WACA3K,IAAAA,EAAQ,KAAKA,MACjBA,EAAM6B,SAAW,GACjB7B,EAAMgI,IAAM,GACZhI,EAAM8H,KAAO,GACb9H,EAAM8F,QAAU,GACXgD,IACH9I,EAAOM,GAAkB,MAK3BwG,IAAAA,EAAY,KAAK7B,QAAQ,GAAGjF,MAC1B,IAAA,IAAIiH,KAAQ,KAAKF,cACrBD,EAAWG,GAAS,KAAKF,cAAeE,GAGrChC,KAAAA,QACFb,OAAO,YACP0J,WAAY,IAAM9I,EAAQY,YAAa,SACvC2E,YAAavF,EAAQU,gBACrBqI,WAAW,WAEdzI,EAAQlB,OAAO,aAUjB4J,aAAe,SAAUC,GACnBC,IAKAC,EALAD,EAAY,KAAKlJ,QAAQS,WACzB2I,EAAWH,EAAS,YAAc,cAClCI,EAAWJ,EAAS,SAAW,QAC/BK,EAAeL,EAAS,OAAS,OACjCM,EAAgB,KAAKtJ,QAASoJ,KAG9BG,EAAc,KAAKxJ,QAASkJ,IAAe,KAAKlJ,QAASkJ,GAAaE,IAEvDpF,KAAAA,eAAgB,QAAUzJ,EAAW8O,KAAQ,IAElDE,EAEdJ,EAAWzG,KAAK+G,MAAOF,EAAgBC,GACvCL,EAAWzG,KAAKgH,IAAKP,EAAU,GAGzBD,KAAAA,GAAaI,GAAiBH,EAE9BD,KAAAA,GAAaE,GAAYI,GAIjCG,wBAA0B,SAAUV,GAC9BC,IAAAA,EAAY,KAAKlJ,QAAQS,WACzB6I,EAAeL,EAAS,OAAS,OACjCW,EAAe,KAAMV,GAAaI,GAI7B,OAFJN,KAAAA,aAAcC,GAEV,KAAMC,GAAaI,KAAmBM,GAKjDC,cAAgB,WAETC,KAAAA,QAAU,GAEVd,KAAAA,eACD7N,IAAAA,EAAI,KAAK2O,QAAQC,KAEd5O,IADF2O,KAAAA,QAAQE,MAAQ,GACd7O,KACA2O,KAAAA,QAAQE,MAAM9H,KAAM,IAI7B+H,eAAiB,SAAU7G,GACrBZ,IAAAA,EAAW,KACX0H,EAAQ1H,EAASsH,QACrB1G,EAAOuC,KAAK,WACNF,IAAAA,EAASzL,EAAE,MAEXmQ,EAAUzH,KAAK0H,KAAM3E,EAAM4E,YAAW,GAAQH,EAAMI,aAGnDH,GAAY,KAFjBA,EAAUzH,KAAK6H,IAAKJ,EAASD,EAAMH,OAIjCvH,EAASgI,mBAAoB/E,EAAOyE,EAAMF,WACrC,CAGDS,IAEAC,EACAvP,EAHAsP,EAAaP,EAAMH,KAAO,EAAII,EAC9BQ,EAAS,GAKPxP,IAAAA,EAAE,EAAGA,EAAIsP,EAAYtP,IAEzBuP,EAAYR,EAAMF,MAAMrP,MAAOQ,EAAGA,EAAEgP,GAEpCQ,EAAOxP,GAAKuH,KAAKgH,IAAI9J,MAAO8C,KAAMgI,GAGpClI,EAASgI,mBAAoB/E,EAAOkF,OAO1CH,mBAAqB,SAAUI,EAAQC,GAMhC,IAJDC,IAAAA,EAAWpI,KAAK6H,IAAI3K,MAAO8C,KAAMmI,GACjCE,EAAW,EAGN5P,EAAE,EAAGC,EAAMyP,EAAKxP,OAAQF,EAAIC,EAAKD,IACnC0P,GAAAA,EAAK1P,KAAO2P,EAAW,CAC1BC,EAAW5P,EACX,MAKAkL,IAAAA,EAAI,KAAKyD,QAAQQ,YAAcS,EAC/BzE,EAAIwE,EACHvE,KAAAA,cAAeqE,EAAQvE,EAAGC,GAG3B0E,IAAAA,EAAYF,EAAWF,EAAOK,aAAY,GAC1CC,EAAU,KAAKpB,QAAQC,KAAO,EAAI3O,EAChCD,IAAAA,EAAE,EAAGA,EAAI+P,EAAS/P,IACjB2O,KAAAA,QAAQE,MAAOe,EAAW5P,GAAM6P,GAKzCG,yBAA2B,WAElB,MAAA,CAAEjP,OADawG,KAAKgH,IAAI9J,MAAO8C,KAAM,KAAKoH,QAAQE,SAI3DoB,sBAAwB,WACf,OAAA,KAAKzB,2BAKd0B,cAAgB,WACTC,KAAAA,QAAU,CACbjF,EAAI,EACJC,EAAI,EACJpK,OAAS,IAIbqP,eAAiB,SAAUnI,GACrBZ,IAAAA,EAAW,KACXgJ,EAAiB,KAAKvL,QAAQwL,QAC9BvB,EAAQ,KAAKoB,QAEjBlI,EAAOuC,KAAM,WACPF,IAAAA,EAAQzL,EAAE,MACV0R,EAAQjG,EAAM4E,YAAW,GACzBsB,EAAQlG,EAAMwF,aAAY,GAEb,IAAZf,EAAM7D,GAAWqF,EAAQxB,EAAM7D,EAAImF,IAEtCtB,EAAM7D,EAAI,EACV6D,EAAM5D,EAAI4D,EAAMhO,QAIlBsG,EAAS+D,cAAed,EAAOyE,EAAM7D,EAAG6D,EAAM5D,GAE9C4D,EAAMhO,OAASwG,KAAKgH,IAAKQ,EAAM5D,EAAIqF,EAAOzB,EAAMhO,QAChDgO,EAAM7D,GAAKqF,KAKfE,yBAA2B,WAClB,MAAA,CAAE1P,OAAS,KAAKoP,QAAQpP,SAGjC2P,sBAAwB,WACf,OAAA,GAMTC,iBAAmB,WACZC,KAAAA,WAAa,CAChBC,MAAQ,GAGLhD,KAAAA,eAEAA,KAAAA,cAAa,IAGpBiD,kBAAoB,SAAU7I,GACxBZ,IAAAA,EAAW,KACX0H,EAAQ,KAAK6B,WACjB3I,EAAOuC,KAAM,WACPF,IAAAA,EAAQzL,EAAE,MACVkS,EAAMhC,EAAM8B,MAAQ9B,EAAMH,KAC1BoC,EAAMzJ,KAAK+G,MAAOS,EAAM8B,MAAQ9B,EAAMH,MACtC1D,GAAM6F,EAAM,IAAQhC,EAAMI,YAAc7E,EAAM4E,YAAW,GAAQ,EACjE/D,GAAM6F,EAAM,IAAQjC,EAAMkC,UAAY3G,EAAMwF,aAAY,GAAQ,EACpEzI,EAAS+D,cAAed,EAAOY,EAAGC,GAClC4D,EAAM8B,WAIVK,4BAA8B,WACrB,MAAA,CAAEnQ,OAASwG,KAAK0H,KAAM,KAAKpG,eAAe3I,OAAS,KAAK0Q,WAAWhC,MAAS,KAAKgC,WAAWK,UAAY,KAAKvJ,OAAOG,MAG7HsJ,yBAA2B,WAClB,OAAA,KAAK3C,2BAMd4C,mBAAqB,WACdC,KAAAA,aAAe,CAClBlG,EAAI,IAIRmG,oBAAsB,SAAUrJ,GAC1BZ,IAAAA,EAAW,KACfY,EAAOuC,KAAM,SAAUxK,GACjBsK,IAAAA,EAAQzL,EAAE,MACdwI,EAAS+D,cAAed,EAAO,EAAGjD,EAASgK,aAAalG,GACxD9D,EAASgK,aAAalG,GAAKb,EAAMwF,aAAY,MAIjDyB,8BAAgC,WACvB,MAAA,CAAExQ,OAAS,KAAKsQ,aAAalG,IAGtCqG,2BAA6B,WACpB,OAAA,GAMTC,wBAA0B,WAEnBC,KAAAA,kBAAoB,GAEpB7D,KAAAA,cAAc,GACf7N,IAAAA,EAAI,KAAK0R,kBAAkBC,KAExB3R,IADF0R,KAAAA,kBAAkBE,MAAQ,GACxB5R,KACA0R,KAAAA,kBAAkBE,MAAM7K,KAAM,IAIvC8K,yBAA2B,SAAU5J,GAC/BZ,IAAAA,EAAW,KACX0H,EAAQ1H,EAASqK,kBACrBzJ,EAAOuC,KAAK,WACNF,IAAAA,EAASzL,EAAE,MAEXiT,EAAUvK,KAAK0H,KAAM3E,EAAMwF,aAAY,GAAQf,EAAMkC,WAGpDa,GAAY,KAFjBA,EAAUvK,KAAK6H,IAAK0C,EAAS/C,EAAM4C,OAIjCtK,EAAS0K,6BAA8BzH,EAAOyE,EAAM6C,WAC/C,CAGDtC,IAEA0C,EAAWhS,EAFXsP,EAAaP,EAAM4C,KAAO,EAAIG,EAC9BG,EAAS,GAIPjS,IAAAA,EAAE,EAAGA,EAAIsP,EAAYtP,IAEzBgS,EAAYjD,EAAM6C,MAAMpS,MAAOQ,EAAGA,EAAE8R,GAEpCG,EAAOjS,GAAKuH,KAAKgH,IAAI9J,MAAO8C,KAAMyK,GAGpC3K,EAAS0K,6BAA8BzH,EAAO2H,OAKpDF,6BAA+B,SAAUtC,EAAQyC,GAK1C,IAHDC,IAAAA,EAAY5K,KAAK6H,IAAI3K,MAAO8C,KAAM2K,GAClCE,EAAY,EAEPpS,EAAE,EAAGC,EAAMiS,EAAKhS,OAAQF,EAAIC,EAAKD,IACnCkS,GAAAA,EAAKlS,KAAOmS,EAAW,CAC1BC,EAAWpS,EACX,MAKAkL,IAAAA,EAAIiH,EACJhH,EAAI,KAAKuG,kBAAkBT,UAAYmB,EACtChH,KAAAA,cAAeqE,EAAQvE,EAAGC,GAG3BkH,IAAAA,EAAWF,EAAW1C,EAAOP,YAAW,GACxCa,EAAU,KAAK2B,kBAAkBC,KAAO,EAAI1R,EAC1CD,IAAAA,EAAE,EAAGA,EAAI+P,EAAS/P,IACjB0R,KAAAA,kBAAkBE,MAAOQ,EAAWpS,GAAMqS,GAInDC,mCAAqC,WAE5B,MAAA,CAAEhC,MADY/I,KAAKgH,IAAI9J,MAAO8C,KAAM,KAAKmK,kBAAkBE,SAIpEW,gCAAkC,WACzB,OAAA,KAAK/D,yBAAwB,IAMtCgE,iBAAmB,WACZC,KAAAA,WAAa,CAChBvH,EAAI,EACJC,EAAI,EACJmF,MAAQ,IAIZoC,kBAAoB,SAAUzK,GACxBZ,IAAAA,EAAW,KACXsL,EAAkB,KAAK7N,QAAQ/D,SAC/BgO,EAAQ,KAAK0D,WACjBxK,EAAOuC,KAAM,WACPF,IAAAA,EAAQzL,EAAE,MACV0R,EAAQjG,EAAM4E,YAAW,GACzBsB,EAAQlG,EAAMwF,aAAY,GAEb,IAAZf,EAAM5D,GAAWqF,EAAQzB,EAAM5D,EAAIwH,IAEtC5D,EAAM7D,EAAI6D,EAAMuB,MAChBvB,EAAM5D,EAAI,GAIZ9D,EAAS+D,cAAed,EAAOyE,EAAM7D,EAAG6D,EAAM5D,GAE9C4D,EAAMuB,MAAQ/I,KAAKgH,IAAKQ,EAAM7D,EAAIqF,EAAOxB,EAAMuB,OAC/CvB,EAAM5D,GAAKqF,KAKfoC,4BAA8B,WACrB,MAAA,CAAEtC,MAAQ,KAAKmC,WAAWnC,QAGnCuC,yBAA2B,WAClB,OAAA,GAOTC,oBAAsB,WACfC,KAAAA,cAAgB,CACnBlC,MAAQ,GAGLhD,KAAAA,eAEAA,KAAAA,cAAa,IAGpBmF,qBAAuB,SAAU/K,GAC3BZ,IAAAA,EAAW,KACX0H,EAAQ,KAAKgE,cACjB9K,EAAOuC,KAAM,WACPF,IAAAA,EAAQzL,EAAE,MACVkS,EAAMxJ,KAAK+G,MAAOS,EAAM8B,MAAQ9B,EAAM4C,MACtCX,EAAMjC,EAAM8B,MAAQ9B,EAAM4C,KAC1BzG,GAAM6F,EAAM,IAAQhC,EAAMI,YAAc7E,EAAM4E,YAAW,GAAQ,EACjE/D,GAAM6F,EAAM,IAAQjC,EAAMkC,UAAY3G,EAAMwF,aAAY,GAAQ,EACpEzI,EAAS+D,cAAed,EAAOY,EAAGC,GAClC4D,EAAM8B,WAIVoC,+BAAiC,WACxB,MAAA,CAAE3C,MAAQ/I,KAAK0H,KAAM,KAAKpG,eAAe3I,OAAS,KAAK6S,cAAcpB,MAAS,KAAKoB,cAAc5D,cAG1G+D,4BAA8B,WACrB,OAAA,KAAK1E,yBAAwB,IAKtC2E,qBAAuB,WAChBC,KAAAA,eAAiB,CACpBlI,EAAI,IAIRmI,sBAAwB,SAAUpL,GAC5BZ,IAAAA,EAAW,KACfY,EAAOuC,KAAM,SAAUxK,GACjBsK,IAAAA,EAAQzL,EAAE,MACdwI,EAAS+D,cAAed,EAAOjD,EAAS+L,eAAelI,EAAG,GAC1D7D,EAAS+L,eAAelI,GAAKZ,EAAM4E,YAAW,MAIlDoE,gCAAkC,WACzB,MAAA,CAAEhD,MAAQ,KAAK8C,eAAelI,IAGvCqI,6BAA+B,WACtB,OAAA,IAyBX1U,EAAE6F,GAAG8O,aAAe,SAAUzO,GACxBuF,IAAAA,EAAQ,KACRmJ,EAAUnJ,EAAM/B,KAAK,OAAOD,IAAKgC,EAAMjC,OAAO,QAC9CpI,EAAMwT,EAAQvT,OACdwT,EAAQ,yEACRC,EAAS,GAEJC,SAAAA,IACP7O,EAASwH,KAAMjC,EAAOmJ,GA4BjBnJ,OAbDrK,GACJ2T,IAGFH,EAAQ3P,KAAM,uCAhBL+P,SAAAA,EAAWrQ,GACdsQ,IAAAA,EAAMtQ,EAAMuQ,OACXD,EAAIE,MAAQN,IAAuC,IAA9B7U,EAAEoV,QAASH,EAAKH,KACxCA,EAAO5M,KAAM+M,KACN7T,GAAO,IACZuE,WAAYoP,GACZH,EAAQxP,OAAQ,gBAAiB4P,OAU4BrJ,KAAM,WAEnEwJ,IAAAA,EAAM,KAAKA,IAGVA,KAAAA,IAAMN,EACNM,KAAAA,IAAMA,IAGN1J,GAML4J,IAAAA,EAAW,SAAUC,GAClBvV,EAAOwV,SACVxV,EAAOwV,QAAQC,MAAOF,IAW1BtV,EAAE6F,GAAG4P,QAAU,SAAUzP,EAASE,GAC3B,GAAmB,iBAAZF,EAAuB,CAE7BT,IAAAA,EAAOmQ,MAAM/N,UAAUhH,MAAM+M,KAAMlI,UAAW,GAE7CmG,KAAAA,KAAK,WACJnD,IAAAA,EAAWxI,EAAEmD,KAAM,KAAM,WACvBqF,EAKAxI,EAAE2V,WAAYnN,EAASxC,KAAoC,MAAtBA,EAAQvF,OAAO,GAK1D+H,EAAUxC,GAAUJ,MAAO4C,EAAUjD,GAJnC8P,EAAU,mBAAqBrP,EAAU,0BALzCqP,EAAU,qFACyBrP,EAAU,YAW5C2F,KAAAA,KAAK,WACJnD,IAAAA,EAAWxI,EAAEmD,KAAM,KAAM,WACxBqF,GAEHA,EAAS6B,OAAQrE,GACjBwC,EAASpC,MAAOF,IAGhBlG,EAAEmD,KAAM,KAAM,UAAW,IAAInD,EAAE+F,QAASC,EAAS,KAAME,MAMtD,OAAA,MA72CX,CAg3CInG,OAAQ6V","file":"jquery.isotope.7c62ea93.js","sourceRoot":"..","sourcesContent":["/**\n\n\n*/\n\n(function( window, $, undefined ){\n\n  'use strict';\n\n  // get global vars\n  var document = window.document;\n  var Modernizr = window.Modernizr;\n\n  // helper function\n  var capitalize = function( str ) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  // ========================= getStyleProperty by kangax ===============================\n  // http://perfectionkills.com/feature-testing-css-properties/\n\n  var prefixes = 'Moz Webkit O Ms'.split(' ');\n\n  var getStyleProperty = function( propName ) {\n    var style = document.documentElement.style,\n        prefixed;\n\n    // test standard property first\n    if ( typeof style[propName] === 'string' ) {\n      return propName;\n    }\n\n    // capitalize\n    propName = capitalize( propName );\n\n    // test vendor specific properties\n    for ( var i=0, len = prefixes.length; i < len; i++ ) {\n      prefixed = prefixes[i] + propName;\n      if ( typeof style[ prefixed ] === 'string' ) {\n        return prefixed;\n      }\n    }\n  };\n\n  var transformProp = getStyleProperty('transform'),\n      transitionProp = getStyleProperty('transitionProperty');\n\n\n  // ========================= miniModernizr ===============================\n  // <3<3<3 and thanks to Faruk and Paul for doing the heavy lifting\n\n  /*!\n   * Modernizr v1.6ish: miniModernizr for Isotope\n   * http://www.modernizr.com\n   *\n   * Developed by:\n   * - Faruk Ates  http://farukat.es/\n   * - Paul Irish  http://paulirish.com/\n   *\n   * Copyright (c) 2009-2010\n   * Dual-licensed under the BSD or MIT licenses.\n   * http://www.modernizr.com/license/\n   */\n\n  /*\n   * This version whittles down the script just to check support for\n   * CSS transitions, transforms, and 3D transforms.\n  */\n\n  var tests = {\n    csstransforms: function() {\n      return !!transformProp;\n    },\n\n    csstransforms3d: function() {\n      var test = !!getStyleProperty('perspective');\n      // double check for Chrome's false positive\n      if ( test ) {\n        var vendorCSSPrefixes = ' -o- -moz- -ms- -webkit- -khtml- '.split(' '),\n            mediaQuery = '@media (' + vendorCSSPrefixes.join('transform-3d),(') + 'modernizr)',\n            $style = $('<style>' + mediaQuery + '{#modernizr{height:3px}}' + '</style>')\n                        .appendTo('head'),\n            $div = $('<div id=\"modernizr\" />').appendTo('html');\n\n        test = $div.height() === 3;\n\n        $div.remove();\n        $style.remove();\n      }\n      return test;\n    },\n\n    csstransitions: function() {\n      return !!transitionProp;\n    }\n  };\n\n  var testName;\n\n  if ( Modernizr ) {\n    // if there's a previous Modernzir, check if there are necessary tests\n    for ( testName in tests) {\n      if ( !Modernizr.hasOwnProperty( testName ) ) {\n        // if test hasn't been run, use addTest to run it\n        Modernizr.addTest( testName, tests[ testName ] );\n      }\n    }\n  } else {\n    // or create new mini Modernizr that just has the 3 tests\n    Modernizr = window.Modernizr = {\n      _version : '1.6ish: miniModernizr for Isotope'\n    };\n\n    var classes = ' ';\n    var result;\n\n    // Run through tests\n    for ( testName in tests) {\n      result = tests[ testName ]();\n      Modernizr[ testName ] = result;\n      classes += ' ' + ( result ?  '' : 'no-' ) + testName;\n    }\n\n    // Add the new classes to the <html> element.\n    $('html').addClass( classes );\n  }\n\n\n  // ========================= isoTransform ===============================\n\n  /**\n   *  provides hooks for .css({ scale: value, translate: [x, y] })\n   *  Progressively enhanced CSS transforms\n   *  Uses hardware accelerated 3D transforms for Safari\n   *  or falls back to 2D transforms.\n   */\n\n  if ( Modernizr.csstransforms ) {\n\n        // i.e. transformFnNotations.scale(0.5) >> 'scale3d( 0.5, 0.5, 1)'\n    var transformFnNotations = Modernizr.csstransforms3d ?\n      { // 3D transform functions\n        translate : function ( position ) {\n          return 'translate3d(' + position[0] + 'px, ' + position[1] + 'px, 0) ';\n        },\n        scale : function ( scale ) {\n          return 'scale3d(' + scale + ', ' + scale + ', 1) ';\n        }\n      } :\n      { // 2D transform functions\n        translate : function ( position ) {\n          return 'translate(' + position[0] + 'px, ' + position[1] + 'px) ';\n        },\n        scale : function ( scale ) {\n          return 'scale(' + scale + ') ';\n        }\n      }\n    ;\n\n    var setIsoTransform = function ( elem, name, value ) {\n          // unpack current transform data\n      var data =  $.data( elem, 'isoTransform' ) || {},\n          newData = {},\n          fnName,\n          transformObj = {},\n          transformValue;\n\n      // i.e. newData.scale = 0.5\n      newData[ name ] = value;\n      // extend new value over current data\n      $.extend( data, newData );\n\n      for ( fnName in data ) {\n        transformValue = data[ fnName ];\n        transformObj[ fnName ] = transformFnNotations[ fnName ]( transformValue );\n      }\n\n      // get proper order\n      // ideally, we could loop through this give an array, but since we only have\n      // a couple transforms we're keeping track of, we'll do it like so\n      var translateFn = transformObj.translate || '',\n          scaleFn = transformObj.scale || '',\n          // sorting so translate always comes first\n          valueFns = translateFn + scaleFn;\n\n      // set data back in elem\n      $.data( elem, 'isoTransform', data );\n\n      // set name to vendor specific property\n      elem.style[ transformProp ] = valueFns;\n    };\n\n    // ==================== scale ===================\n\n    $.cssNumber.scale = true;\n\n    $.cssHooks.scale = {\n      set: function( elem, value ) {\n        // uncomment this bit if you want to properly parse strings\n        // if ( typeof value === 'string' ) {\n        //   value = parseFloat( value );\n        // }\n        setIsoTransform( elem, 'scale', value );\n      },\n      get: function( elem, computed ) {\n        var transform = $.data( elem, 'isoTransform' );\n        return transform && transform.scale ? transform.scale : 1;\n      }\n    };\n\n    $.fx.step.scale = function( fx ) {\n      $.cssHooks.scale.set( fx.elem, fx.now+fx.unit );\n    };\n\n\n    // ==================== translate ===================\n\n    $.cssNumber.translate = true;\n\n    $.cssHooks.translate = {\n      set: function( elem, value ) {\n\n        // uncomment this bit if you want to properly parse strings\n        // if ( typeof value === 'string' ) {\n        //   value = value.split(' ');\n        // }\n        //\n        // var i, val;\n        // for ( i = 0; i < 2; i++ ) {\n        //   val = value[i];\n        //   if ( typeof val === 'string' ) {\n        //     val = parseInt( val );\n        //   }\n        // }\n\n        setIsoTransform( elem, 'translate', value );\n      },\n\n      get: function( elem, computed ) {\n        var transform = $.data( elem, 'isoTransform' );\n        return transform && transform.translate ? transform.translate : [ 0, 0 ];\n      }\n    };\n\n  }\n\n  // ========================= get transition-end event ===============================\n  var transitionEndEvent, transitionDurProp;\n\n  if ( Modernizr.csstransitions ) {\n    transitionEndEvent = {\n      WebkitTransitionProperty: 'webkitTransitionEnd',  // webkit\n      MozTransitionProperty: 'transitionend',\n      OTransitionProperty: 'oTransitionEnd otransitionend',\n      transitionProperty: 'transitionend'\n    }[ transitionProp ];\n\n    transitionDurProp = getStyleProperty('transitionDuration');\n  }\n\n  // ========================= smartresize ===============================\n\n  /*\n   * smartresize: debounced resize event for jQuery\n   *\n   * latest version and complete README available on Github:\n   * https://github.com/louisremi/jquery.smartresize.js\n   *\n   * Copyright 2011 @louis_remi\n   * Licensed under the MIT license.\n   */\n\n  var $event = $.event,\n      dispatchMethod = $.event.handle ? 'handle' : 'dispatch',\n      resizeTimeout;\n\n  $event.special.smartresize = {\n    setup: function() {\n      $(this).bind( \"resize\", $event.special.smartresize.handler );\n    },\n    teardown: function() {\n      $(this).unbind( \"resize\", $event.special.smartresize.handler );\n    },\n    handler: function( event, execAsap ) {\n      // Save the context\n      var context = this,\n          args = arguments;\n\n      // set correct event type\n      event.type = \"smartresize\";\n\n      if ( resizeTimeout ) { clearTimeout( resizeTimeout ); }\n      resizeTimeout = setTimeout(function() {\n        $event[ dispatchMethod ].apply( context, args );\n      }, execAsap === \"execAsap\"? 0 : 100 );\n    }\n  };\n\n  $.fn.smartresize = function( fn ) {\n    return fn ? this.bind( \"smartresize\", fn ) : this.trigger( \"smartresize\", [\"execAsap\"] );\n  };\n\n\n\n// ========================= Isotope ===============================\n\n\n  // our \"Widget\" object constructor\n  $.Isotope = function( options, element, callback ){\n    this.element = $( element );\n\n    this._create( options );\n    this._init( callback );\n  };\n\n  // styles of container element we want to keep track of\n  var isoContainerStyles = [ 'width', 'height' ];\n\n  var $window = $(window);\n\n  $.Isotope.settings = {\n    resizable: true,\n    layoutMode : 'masonry',\n    containerClass : 'isotope',\n    itemClass : 'isotope-item',\n    hiddenClass : 'isotope-hidden',\n    hiddenStyle: { opacity: 0, scale: 0.001 },\n    visibleStyle: { opacity: 1, scale: 1 },\n    containerStyle: {\n      position: 'relative',\n      overflow: 'hidden'\n    },\n    animationEngine: 'best-available',\n    animationOptions: {\n      queue: false,\n      duration: 800\n    },\n    sortBy : 'original-order',\n    sortAscending : true,\n    resizesContainer : true,\n    transformsEnabled: true,\n    itemPositionDataEnabled: false\n  };\n\n  $.Isotope.prototype = {\n\n    // sets up widget\n    _create : function( options ) {\n\n      this.options = $.extend( {}, $.Isotope.settings, options );\n\n      this.styleQueue = [];\n      this.elemCount = 0;\n\n      // get original styles in case we re-apply them in .destroy()\n      var elemStyle = this.element[0].style;\n      this.originalStyle = {};\n      // keep track of container styles\n      var containerStyles = isoContainerStyles.slice(0);\n      for ( var prop in this.options.containerStyle ) {\n        containerStyles.push( prop );\n      }\n      for ( var i=0, len = containerStyles.length; i < len; i++ ) {\n        prop = containerStyles[i];\n        this.originalStyle[ prop ] = elemStyle[ prop ] || '';\n      }\n      // apply container style from options\n      this.element.css( this.options.containerStyle );\n\n      this._updateAnimationEngine();\n      this._updateUsingTransforms();\n\n      // sorting\n      var originalOrderSorter = {\n        'original-order' : function( $elem, instance ) {\n          instance.elemCount ++;\n          return instance.elemCount;\n        },\n        random : function() {\n          return Math.random();\n        }\n      };\n\n      this.options.getSortData = $.extend( this.options.getSortData, originalOrderSorter );\n\n      // need to get atoms\n      this.reloadItems();\n\n      // get top left position of where the bricks should be\n      this.offset = {\n        left: parseInt( ( this.element.css('padding-left') || 0 ), 10 ),\n        top: parseInt( ( this.element.css('padding-top') || 0 ), 10 )\n      };\n\n      // add isotope class first time around\n      var instance = this;\n      setTimeout( function() {\n        instance.element.addClass( instance.options.containerClass );\n      }, 0 );\n\n      // bind resize method\n      if ( this.options.resizable ) {\n        $window.bind( 'smartresize.isotope', function() {\n          instance.resize();\n        });\n      }\n\n      // dismiss all click events from hidden events\n      this.element.delegate( '.' + this.options.hiddenClass, 'click', function(){\n        return false;\n      });\n\n    },\n\n    _getAtoms : function( $elems ) {\n      var selector = this.options.itemSelector,\n          // filter & find\n          $atoms = selector ? $elems.filter( selector ).add( $elems.find( selector ) ) : $elems,\n          // base style for atoms\n          atomStyle = { position: 'absolute' };\n\n      // filter out text nodes\n      $atoms = $atoms.filter( function( i, atom ) {\n        return atom.nodeType === 1;\n      });\n\n      if ( this.usingTransforms ) {\n        atomStyle.left = 0;\n        atomStyle.top = 0;\n      }\n\n      $atoms.css( atomStyle ).addClass( this.options.itemClass );\n\n      this.updateSortData( $atoms, true );\n\n      return $atoms;\n    },\n\n    // _init fires when your instance is first created\n    // (from the constructor above), and when you\n    // attempt to initialize the widget again (by the bridge)\n    // after it has already been initialized.\n    _init : function( callback ) {\n\n      this.$filteredAtoms = this._filter( this.$allAtoms );\n      this._sort();\n      this.reLayout( callback );\n\n    },\n\n    option : function( opts ){\n      // change options AFTER initialization:\n      // signature: $('#foo').bar({ cool:false });\n      if ( $.isPlainObject( opts ) ){\n        this.options = $.extend( true, this.options, opts );\n\n        // trigger _updateOptionName if it exists\n        var updateOptionFn;\n        for ( var optionName in opts ) {\n          updateOptionFn = '_update' + capitalize( optionName );\n          if ( this[ updateOptionFn ] ) {\n            this[ updateOptionFn ]();\n          }\n        }\n      }\n    },\n\n    // ====================== updaters ====================== //\n    // kind of like setters\n\n    _updateAnimationEngine : function() {\n      var animationEngine = this.options.animationEngine.toLowerCase().replace( /[ _\\-]/g, '');\n      var isUsingJQueryAnimation;\n      // set applyStyleFnName\n      switch ( animationEngine ) {\n        case 'css' :\n        case 'none' :\n          isUsingJQueryAnimation = false;\n          break;\n        case 'jquery' :\n          isUsingJQueryAnimation = true;\n          break;\n        default : // best available\n          isUsingJQueryAnimation = !Modernizr.csstransitions;\n      }\n      this.isUsingJQueryAnimation = isUsingJQueryAnimation;\n      this._updateUsingTransforms();\n    },\n\n    _updateTransformsEnabled : function() {\n      this._updateUsingTransforms();\n    },\n\n    _updateUsingTransforms : function() {\n      var usingTransforms = this.usingTransforms = this.options.transformsEnabled &&\n        Modernizr.csstransforms && Modernizr.csstransitions && !this.isUsingJQueryAnimation;\n\n      // prevent scales when transforms are disabled\n      if ( !usingTransforms ) {\n        delete this.options.hiddenStyle.scale;\n        delete this.options.visibleStyle.scale;\n      }\n\n      this.getPositionStyles = usingTransforms ? this._translate : this._positionAbs;\n    },\n\n\n    // ====================== Filtering ======================\n\n    _filter : function( $atoms ) {\n      var filter = this.options.filter === '' ? '*' : this.options.filter;\n\n      if ( !filter ) {\n        return $atoms;\n      }\n\n      var hiddenClass    = this.options.hiddenClass,\n          hiddenSelector = '.' + hiddenClass,\n          $hiddenAtoms   = $atoms.filter( hiddenSelector ),\n          $atomsToShow   = $hiddenAtoms;\n\n      if ( filter !== '*' ) {\n        $atomsToShow = $hiddenAtoms.filter( filter );\n        var $atomsToHide = $atoms.not( hiddenSelector ).not( filter ).addClass( hiddenClass );\n        this.styleQueue.push({ $el: $atomsToHide, style: this.options.hiddenStyle });\n      }\n\n      this.styleQueue.push({ $el: $atomsToShow, style: this.options.visibleStyle });\n      $atomsToShow.removeClass( hiddenClass );\n\n      return $atoms.filter( filter );\n    },\n\n    // ====================== Sorting ======================\n\n    updateSortData : function( $atoms, isIncrementingElemCount ) {\n      var instance = this,\n          getSortData = this.options.getSortData,\n          $this, sortData;\n      $atoms.each(function(){\n        $this = $(this);\n        sortData = {};\n        // get value for sort data based on fn( $elem ) passed in\n        for ( var key in getSortData ) {\n          if ( !isIncrementingElemCount && key === 'original-order' ) {\n            // keep original order original\n            sortData[ key ] = $.data( this, 'isotope-sort-data' )[ key ];\n          } else {\n            sortData[ key ] = getSortData[ key ]( $this, instance );\n          }\n        }\n        // apply sort data to element\n        $.data( this, 'isotope-sort-data', sortData );\n      });\n    },\n\n    // used on all the filtered atoms\n    _sort : function() {\n\n      var sortBy = this.options.sortBy,\n          getSorter = this._getSorter,\n          sortDir = this.options.sortAscending ? 1 : -1,\n          sortFn = function( alpha, beta ) {\n            var a = getSorter( alpha, sortBy ),\n                b = getSorter( beta, sortBy );\n            // fall back to original order if data matches\n            if ( a === b && sortBy !== 'original-order') {\n              a = getSorter( alpha, 'original-order' );\n              b = getSorter( beta, 'original-order' );\n            }\n            return ( ( a > b ) ? 1 : ( a < b ) ? -1 : 0 ) * sortDir;\n          };\n\n      this.$filteredAtoms.sort( sortFn );\n    },\n\n    _getSorter : function( elem, sortBy ) {\n      return $.data( elem, 'isotope-sort-data' )[ sortBy ];\n    },\n\n    // ====================== Layout Helpers ======================\n\n    _translate : function( x, y ) {\n      return { translate : [ x, y ] };\n    },\n\n    _positionAbs : function( x, y ) {\n      return { left: x, top: y };\n    },\n\n    _pushPosition : function( $elem, x, y ) {\n      x = Math.round( x + this.offset.left );\n      y = Math.round( y + this.offset.top );\n      var position = this.getPositionStyles( x, y );\n      this.styleQueue.push({ $el: $elem, style: position });\n      if ( this.options.itemPositionDataEnabled ) {\n        $elem.data('isotope-item-position', {x: x, y: y} );\n      }\n    },\n\n\n    // ====================== General Layout ======================\n\n    // used on collection of atoms (should be filtered, and sorted before )\n    // accepts atoms-to-be-laid-out to start with\n    layout : function( $elems, callback ) {\n\n      var layoutMode = this.options.layoutMode;\n\n      // layout logic\n      this[ '_' +  layoutMode + 'Layout' ]( $elems );\n\n      // set the size of the container\n      if ( this.options.resizesContainer ) {\n        var containerStyle = this[ '_' +  layoutMode + 'GetContainerSize' ]();\n        this.styleQueue.push({ $el: this.element, style: containerStyle });\n      }\n\n      this._processStyleQueue( $elems, callback );\n\n      this.isLaidOut = true;\n    },\n\n    _processStyleQueue : function( $elems, callback ) {\n      // are we animating the layout arrangement?\n      // use plugin-ish syntax for css or animate\n      var styleFn = !this.isLaidOut ? 'css' : (\n            this.isUsingJQueryAnimation ? 'animate' : 'css'\n          ),\n          animOpts = this.options.animationOptions,\n          onLayout = this.options.onLayout,\n          objStyleFn, processor,\n          triggerCallbackNow, callbackFn;\n\n      // default styleQueue processor, may be overwritten down below\n      processor = function( i, obj ) {\n        obj.$el[ styleFn ]( obj.style, animOpts );\n      };\n\n      if ( this._isInserting && this.isUsingJQueryAnimation ) {\n        // if using styleQueue to insert items\n        processor = function( i, obj ) {\n          // only animate if it not being inserted\n          objStyleFn = obj.$el.hasClass('no-transition') ? 'css' : styleFn;\n          obj.$el[ objStyleFn ]( obj.style, animOpts );\n        };\n\n      } else if ( callback || onLayout || animOpts.complete ) {\n        // has callback\n        var isCallbackTriggered = false,\n            // array of possible callbacks to trigger\n            callbacks = [ callback, onLayout, animOpts.complete ],\n            instance = this;\n        triggerCallbackNow = true;\n        // trigger callback only once\n        callbackFn = function() {\n          if ( isCallbackTriggered ) {\n            return;\n          }\n          var hollaback;\n          for (var i=0, len = callbacks.length; i < len; i++) {\n            hollaback = callbacks[i];\n            if ( typeof hollaback === 'function' ) {\n              hollaback.call( instance.element, $elems, instance );\n            }\n          }\n          isCallbackTriggered = true;\n        };\n\n        if ( this.isUsingJQueryAnimation && styleFn === 'animate' ) {\n          // add callback to animation options\n          animOpts.complete = callbackFn;\n          triggerCallbackNow = false;\n\n        } else if ( Modernizr.csstransitions ) {\n          // detect if first item has transition\n          var i = 0,\n              firstItem = this.styleQueue[0],\n              testElem = firstItem && firstItem.$el,\n              styleObj;\n          // get first non-empty jQ object\n          while ( !testElem || !testElem.length ) {\n            styleObj = this.styleQueue[ i++ ];\n            // HACK: sometimes styleQueue[i] is undefined\n            if ( !styleObj ) {\n              return;\n            }\n            testElem = styleObj.$el;\n          }\n          // get transition duration of the first element in that object\n          // yeah, this is inexact\n          var duration = parseFloat( getComputedStyle( testElem[0] )[ transitionDurProp ] );\n          if ( duration > 0 ) {\n            processor = function( i, obj ) {\n              obj.$el[ styleFn ]( obj.style, animOpts )\n                // trigger callback at transition end\n                .one( transitionEndEvent, callbackFn );\n            };\n            triggerCallbackNow = false;\n          }\n        }\n      }\n\n      // process styleQueue\n      $.each( this.styleQueue, processor );\n\n      if ( triggerCallbackNow ) {\n        callbackFn();\n      }\n\n      // clear out queue for next time\n      this.styleQueue = [];\n    },\n\n\n    resize : function() {\n      if ( this[ '_' + this.options.layoutMode + 'ResizeChanged' ]() ) {\n        this.reLayout();\n      }\n    },\n\n\n    reLayout : function( callback ) {\n\n      this[ '_' +  this.options.layoutMode + 'Reset' ]();\n      this.layout( this.$filteredAtoms, callback );\n\n    },\n\n    // ====================== Convenience methods ======================\n\n    // ====================== Adding items ======================\n\n    // adds a jQuery object of items to a isotope container\n    addItems : function( $content, callback ) {\n      var $newAtoms = this._getAtoms( $content );\n      // add new atoms to atoms pools\n      this.$allAtoms = this.$allAtoms.add( $newAtoms );\n\n      if ( callback ) {\n        callback( $newAtoms );\n      }\n    },\n\n    // convienence method for adding elements properly to any layout\n    // positions items, hides them, then animates them back in <--- very sezzy\n    insert : function( $content, callback ) {\n      // position items\n      this.element.append( $content );\n\n      var instance = this;\n      this.addItems( $content, function( $newAtoms ) {\n        var $newFilteredAtoms = instance._filter( $newAtoms );\n        instance._addHideAppended( $newFilteredAtoms );\n        instance._sort();\n        instance.reLayout();\n        instance._revealAppended( $newFilteredAtoms, callback );\n      });\n\n    },\n\n    // convienence method for working with Infinite Scroll\n    appended : function( $content, callback ) {\n      var instance = this;\n      this.addItems( $content, function( $newAtoms ) {\n        instance._addHideAppended( $newAtoms );\n        instance.layout( $newAtoms );\n        instance._revealAppended( $newAtoms, callback );\n      });\n    },\n\n    // adds new atoms, then hides them before positioning\n    _addHideAppended : function( $newAtoms ) {\n      this.$filteredAtoms = this.$filteredAtoms.add( $newAtoms );\n      $newAtoms.addClass('no-transition');\n\n      this._isInserting = true;\n\n      // apply hidden styles\n      this.styleQueue.push({ $el: $newAtoms, style: this.options.hiddenStyle });\n    },\n\n    // sets visible style on new atoms\n    _revealAppended : function( $newAtoms, callback ) {\n      var instance = this;\n      // apply visible style after a sec\n      setTimeout( function() {\n        // enable animation\n        $newAtoms.removeClass('no-transition');\n        // reveal newly inserted filtered elements\n        instance.styleQueue.push({ $el: $newAtoms, style: instance.options.visibleStyle });\n        instance._isInserting = false;\n        instance._processStyleQueue( $newAtoms, callback );\n      }, 10 );\n    },\n\n    // gathers all atoms\n    reloadItems : function() {\n      this.$allAtoms = this._getAtoms( this.element.children() );\n    },\n\n    // removes elements from Isotope widget\n    remove: function( $content, callback ) {\n      // remove elements immediately from Isotope instance\n      this.$allAtoms = this.$allAtoms.not( $content );\n      this.$filteredAtoms = this.$filteredAtoms.not( $content );\n      // remove() as a callback, for after transition / animation\n      var instance = this;\n      var removeContent = function() {\n        $content.remove();\n        if ( callback ) {\n          callback.call( instance.element );\n        }\n      };\n\n      if ( $content.filter( ':not(.' + this.options.hiddenClass + ')' ).length ) {\n        // if any non-hidden content needs to be removed\n        this.styleQueue.push({ $el: $content, style: this.options.hiddenStyle });\n        this._sort();\n        this.reLayout( removeContent );\n      } else {\n        // remove it now\n        removeContent();\n      }\n\n    },\n\n    shuffle : function( callback ) {\n      this.updateSortData( this.$allAtoms );\n      this.options.sortBy = 'random';\n      this._sort();\n      this.reLayout( callback );\n    },\n\n    // destroys widget, returns elements and container back (close) to original style\n    destroy : function() {\n\n      var usingTransforms = this.usingTransforms;\n      var options = this.options;\n\n      this.$allAtoms\n        .removeClass( options.hiddenClass + ' ' + options.itemClass )\n        .each(function(){\n          var style = this.style;\n          style.position = '';\n          style.top = '';\n          style.left = '';\n          style.opacity = '';\n          if ( usingTransforms ) {\n            style[ transformProp ] = '';\n          }\n        });\n\n      // re-apply saved container styles\n      var elemStyle = this.element[0].style;\n      for ( var prop in this.originalStyle ) {\n        elemStyle[ prop ] = this.originalStyle[ prop ];\n      }\n\n      this.element\n        .unbind('.isotope')\n        .undelegate( '.' + options.hiddenClass, 'click' )\n        .removeClass( options.containerClass )\n        .removeData('isotope');\n\n      $window.unbind('.isotope');\n\n    },\n\n\n    // ====================== LAYOUTS ======================\n\n    // calculates number of rows or columns\n    // requires columnWidth or rowHeight to be set on namespaced object\n    // i.e. this.masonry.columnWidth = 200\n    _getSegments : function( isRows ) {\n      var namespace = this.options.layoutMode,\n          measure  = isRows ? 'rowHeight' : 'columnWidth',\n          size     = isRows ? 'height' : 'width',\n          segmentsName = isRows ? 'rows' : 'cols',\n          containerSize = this.element[ size ](),\n          segments,\n                    // i.e. options.masonry && options.masonry.columnWidth\n          segmentSize = this.options[ namespace ] && this.options[ namespace ][ measure ] ||\n                    // or use the size of the first item, i.e. outerWidth\n                    this.$filteredAtoms[ 'outer' + capitalize(size) ](true) ||\n                    // if there's no items, use size of container\n                    containerSize;\n\n      segments = Math.floor( containerSize / segmentSize );\n      segments = Math.max( segments, 1 );\n\n      // i.e. this.masonry.cols = ....\n      this[ namespace ][ segmentsName ] = segments;\n      // i.e. this.masonry.columnWidth = ...\n      this[ namespace ][ measure ] = segmentSize;\n\n    },\n\n    _checkIfSegmentsChanged : function( isRows ) {\n      var namespace = this.options.layoutMode,\n          segmentsName = isRows ? 'rows' : 'cols',\n          prevSegments = this[ namespace ][ segmentsName ];\n      // update cols/rows\n      this._getSegments( isRows );\n      // return if updated cols/rows is not equal to previous\n      return ( this[ namespace ][ segmentsName ] !== prevSegments );\n    },\n\n    // ====================== Masonry ======================\n\n    _masonryReset : function() {\n      // layout-specific props\n      this.masonry = {};\n      // FIXME shouldn't have to call this again\n      this._getSegments();\n      var i = this.masonry.cols;\n      this.masonry.colYs = [];\n      while (i--) {\n        this.masonry.colYs.push( 0 );\n      }\n    },\n\n    _masonryLayout : function( $elems ) {\n      var instance = this,\n          props = instance.masonry;\n      $elems.each(function(){\n        var $this  = $(this),\n            //how many columns does this brick span\n            colSpan = Math.ceil( $this.outerWidth(true) / props.columnWidth );\n        colSpan = Math.min( colSpan, props.cols );\n\n        if ( colSpan === 1 ) {\n          // if brick spans only one column, just like singleMode\n          instance._masonryPlaceBrick( $this, props.colYs );\n        } else {\n          // brick spans more than one column\n          // how many different places could this brick fit horizontally\n          var groupCount = props.cols + 1 - colSpan,\n              groupY = [],\n              groupColY,\n              i;\n\n          // for each group potential horizontal position\n          for ( i=0; i < groupCount; i++ ) {\n            // make an array of colY values for that one group\n            groupColY = props.colYs.slice( i, i+colSpan );\n            // and get the max value of the array\n            groupY[i] = Math.max.apply( Math, groupColY );\n          }\n\n          instance._masonryPlaceBrick( $this, groupY );\n        }\n      });\n    },\n\n    // worker method that places brick in the columnSet\n    //   with the the minY\n    _masonryPlaceBrick : function( $brick, setY ) {\n      // get the minimum Y value from the columns\n      var minimumY = Math.min.apply( Math, setY ),\n          shortCol = 0;\n\n      // Find index of short column, the first from the left\n      for (var i=0, len = setY.length; i < len; i++) {\n        if ( setY[i] === minimumY ) {\n          shortCol = i;\n          break;\n        }\n      }\n\n      // position the brick\n      var x = this.masonry.columnWidth * shortCol,\n          y = minimumY;\n      this._pushPosition( $brick, x, y );\n\n      // apply setHeight to necessary columns\n      var setHeight = minimumY + $brick.outerHeight(true),\n          setSpan = this.masonry.cols + 1 - len;\n      for ( i=0; i < setSpan; i++ ) {\n        this.masonry.colYs[ shortCol + i ] = setHeight;\n      }\n\n    },\n\n    _masonryGetContainerSize : function() {\n      var containerHeight = Math.max.apply( Math, this.masonry.colYs );\n      return { height: containerHeight };\n    },\n\n    _masonryResizeChanged : function() {\n      return this._checkIfSegmentsChanged();\n    },\n\n    // ====================== fitRows ======================\n\n    _fitRowsReset : function() {\n      this.fitRows = {\n        x : 0,\n        y : 0,\n        height : 0\n      };\n    },\n\n    _fitRowsLayout : function( $elems ) {\n      var instance = this,\n          containerWidth = this.element.width(),\n          props = this.fitRows;\n\n      $elems.each( function() {\n        var $this = $(this),\n            atomW = $this.outerWidth(true),\n            atomH = $this.outerHeight(true);\n\n        if ( props.x !== 0 && atomW + props.x > containerWidth ) {\n          // if this element cannot fit in the current row\n          props.x = 0;\n          props.y = props.height;\n        }\n\n        // position the atom\n        instance._pushPosition( $this, props.x, props.y );\n\n        props.height = Math.max( props.y + atomH, props.height );\n        props.x += atomW;\n\n      });\n    },\n\n    _fitRowsGetContainerSize : function () {\n      return { height : this.fitRows.height };\n    },\n\n    _fitRowsResizeChanged : function() {\n      return true;\n    },\n\n\n    // ====================== cellsByRow ======================\n\n    _cellsByRowReset : function() {\n      this.cellsByRow = {\n        index : 0\n      };\n      // get this.cellsByRow.columnWidth\n      this._getSegments();\n      // get this.cellsByRow.rowHeight\n      this._getSegments(true);\n    },\n\n    _cellsByRowLayout : function( $elems ) {\n      var instance = this,\n          props = this.cellsByRow;\n      $elems.each( function(){\n        var $this = $(this),\n            col = props.index % props.cols,\n            row = Math.floor( props.index / props.cols ),\n            x = ( col + 0.5 ) * props.columnWidth - $this.outerWidth(true) / 2,\n            y = ( row + 0.5 ) * props.rowHeight - $this.outerHeight(true) / 2;\n        instance._pushPosition( $this, x, y );\n        props.index ++;\n      });\n    },\n\n    _cellsByRowGetContainerSize : function() {\n      return { height : Math.ceil( this.$filteredAtoms.length / this.cellsByRow.cols ) * this.cellsByRow.rowHeight + this.offset.top };\n    },\n\n    _cellsByRowResizeChanged : function() {\n      return this._checkIfSegmentsChanged();\n    },\n\n\n    // ====================== straightDown ======================\n\n    _straightDownReset : function() {\n      this.straightDown = {\n        y : 0\n      };\n    },\n\n    _straightDownLayout : function( $elems ) {\n      var instance = this;\n      $elems.each( function( i ){\n        var $this = $(this);\n        instance._pushPosition( $this, 0, instance.straightDown.y );\n        instance.straightDown.y += $this.outerHeight(true);\n      });\n    },\n\n    _straightDownGetContainerSize : function() {\n      return { height : this.straightDown.y };\n    },\n\n    _straightDownResizeChanged : function() {\n      return true;\n    },\n\n\n    // ====================== masonryHorizontal ======================\n\n    _masonryHorizontalReset : function() {\n      // layout-specific props\n      this.masonryHorizontal = {};\n      // FIXME shouldn't have to call this again\n      this._getSegments( true );\n      var i = this.masonryHorizontal.rows;\n      this.masonryHorizontal.rowXs = [];\n      while (i--) {\n        this.masonryHorizontal.rowXs.push( 0 );\n      }\n    },\n\n    _masonryHorizontalLayout : function( $elems ) {\n      var instance = this,\n          props = instance.masonryHorizontal;\n      $elems.each(function(){\n        var $this  = $(this),\n            //how many rows does this brick span\n            rowSpan = Math.ceil( $this.outerHeight(true) / props.rowHeight );\n        rowSpan = Math.min( rowSpan, props.rows );\n\n        if ( rowSpan === 1 ) {\n          // if brick spans only one column, just like singleMode\n          instance._masonryHorizontalPlaceBrick( $this, props.rowXs );\n        } else {\n          // brick spans more than one row\n          // how many different places could this brick fit horizontally\n          var groupCount = props.rows + 1 - rowSpan,\n              groupX = [],\n              groupRowX, i;\n\n          // for each group potential horizontal position\n          for ( i=0; i < groupCount; i++ ) {\n            // make an array of colY values for that one group\n            groupRowX = props.rowXs.slice( i, i+rowSpan );\n            // and get the max value of the array\n            groupX[i] = Math.max.apply( Math, groupRowX );\n          }\n\n          instance._masonryHorizontalPlaceBrick( $this, groupX );\n        }\n      });\n    },\n\n    _masonryHorizontalPlaceBrick : function( $brick, setX ) {\n      // get the minimum Y value from the columns\n      var minimumX  = Math.min.apply( Math, setX ),\n          smallRow  = 0;\n      // Find index of smallest row, the first from the top\n      for (var i=0, len = setX.length; i < len; i++) {\n        if ( setX[i] === minimumX ) {\n          smallRow = i;\n          break;\n        }\n      }\n\n      // position the brick\n      var x = minimumX,\n          y = this.masonryHorizontal.rowHeight * smallRow;\n      this._pushPosition( $brick, x, y );\n\n      // apply setHeight to necessary columns\n      var setWidth = minimumX + $brick.outerWidth(true),\n          setSpan = this.masonryHorizontal.rows + 1 - len;\n      for ( i=0; i < setSpan; i++ ) {\n        this.masonryHorizontal.rowXs[ smallRow + i ] = setWidth;\n      }\n    },\n\n    _masonryHorizontalGetContainerSize : function() {\n      var containerWidth = Math.max.apply( Math, this.masonryHorizontal.rowXs );\n      return { width: containerWidth };\n    },\n\n    _masonryHorizontalResizeChanged : function() {\n      return this._checkIfSegmentsChanged(true);\n    },\n\n\n    // ====================== fitColumns ======================\n\n    _fitColumnsReset : function() {\n      this.fitColumns = {\n        x : 0,\n        y : 0,\n        width : 0\n      };\n    },\n\n    _fitColumnsLayout : function( $elems ) {\n      var instance = this,\n          containerHeight = this.element.height(),\n          props = this.fitColumns;\n      $elems.each( function() {\n        var $this = $(this),\n            atomW = $this.outerWidth(true),\n            atomH = $this.outerHeight(true);\n\n        if ( props.y !== 0 && atomH + props.y > containerHeight ) {\n          // if this element cannot fit in the current column\n          props.x = props.width;\n          props.y = 0;\n        }\n\n        // position the atom\n        instance._pushPosition( $this, props.x, props.y );\n\n        props.width = Math.max( props.x + atomW, props.width );\n        props.y += atomH;\n\n      });\n    },\n\n    _fitColumnsGetContainerSize : function () {\n      return { width : this.fitColumns.width };\n    },\n\n    _fitColumnsResizeChanged : function() {\n      return true;\n    },\n\n\n\n    // ====================== cellsByColumn ======================\n\n    _cellsByColumnReset : function() {\n      this.cellsByColumn = {\n        index : 0\n      };\n      // get this.cellsByColumn.columnWidth\n      this._getSegments();\n      // get this.cellsByColumn.rowHeight\n      this._getSegments(true);\n    },\n\n    _cellsByColumnLayout : function( $elems ) {\n      var instance = this,\n          props = this.cellsByColumn;\n      $elems.each( function(){\n        var $this = $(this),\n            col = Math.floor( props.index / props.rows ),\n            row = props.index % props.rows,\n            x = ( col + 0.5 ) * props.columnWidth - $this.outerWidth(true) / 2,\n            y = ( row + 0.5 ) * props.rowHeight - $this.outerHeight(true) / 2;\n        instance._pushPosition( $this, x, y );\n        props.index ++;\n      });\n    },\n\n    _cellsByColumnGetContainerSize : function() {\n      return { width : Math.ceil( this.$filteredAtoms.length / this.cellsByColumn.rows ) * this.cellsByColumn.columnWidth };\n    },\n\n    _cellsByColumnResizeChanged : function() {\n      return this._checkIfSegmentsChanged(true);\n    },\n\n    // ====================== straightAcross ======================\n\n    _straightAcrossReset : function() {\n      this.straightAcross = {\n        x : 0\n      };\n    },\n\n    _straightAcrossLayout : function( $elems ) {\n      var instance = this;\n      $elems.each( function( i ){\n        var $this = $(this);\n        instance._pushPosition( $this, instance.straightAcross.x, 0 );\n        instance.straightAcross.x += $this.outerWidth(true);\n      });\n    },\n\n    _straightAcrossGetContainerSize : function() {\n      return { width : this.straightAcross.x };\n    },\n\n    _straightAcrossResizeChanged : function() {\n      return true;\n    }\n\n  };\n\n\n  // ======================= imagesLoaded Plugin ===============================\n  /*!\n   * jQuery imagesLoaded plugin v1.1.0\n   * http://github.com/desandro/imagesloaded\n   *\n   * MIT License. by Paul Irish et al.\n   */\n\n\n  // $('#my-container').imagesLoaded(myFunction)\n  // or\n  // $('img').imagesLoaded(myFunction)\n\n  // execute a callback when all images have loaded.\n  // needed because .load() doesn't work on cached images\n\n  // callback function gets image collection as argument\n  //  `this` is the container\n\n  $.fn.imagesLoaded = function( callback ) {\n    var $this = this,\n        $images = $this.find('img').add( $this.filter('img') ),\n        len = $images.length,\n        blank = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==',\n        loaded = [];\n\n    function triggerCallback() {\n      callback.call( $this, $images );\n    }\n\n    function imgLoaded( event ) {\n      var img = event.target;\n      if ( img.src !== blank && $.inArray( img, loaded ) === -1 ){\n        loaded.push( img );\n        if ( --len <= 0 ){\n          setTimeout( triggerCallback );\n          $images.unbind( '.imagesLoaded', imgLoaded );\n        }\n      }\n    }\n\n    // if no images, trigger immediately\n    if ( !len ) {\n      triggerCallback();\n    }\n\n    $images.bind( 'load.imagesLoaded error.imagesLoaded',  imgLoaded ).each( function() {\n      // cached images don't fire load sometimes, so we reset src.\n      var src = this.src;\n      // webkit hack from http://groups.google.com/group/jquery-dev/browse_thread/thread/eee6ab7b2da50e1f\n      // data uri bypasses webkit log warning (thx doug jones)\n      this.src = blank;\n      this.src = src;\n    });\n\n    return $this;\n  };\n\n\n  // helper function for logging errors\n  // $.error breaks jQuery chaining\n  var logError = function( message ) {\n    if ( window.console ) {\n      window.console.error( message );\n    }\n  };\n\n  // =======================  Plugin bridge  ===============================\n  // leverages data method to either create or return $.Isotope constructor\n  // A bit from jQuery UI\n  //   https://github.com/jquery/jquery-ui/blob/master/ui/jquery.ui.widget.js\n  // A bit from jcarousel\n  //   https://github.com/jsor/jcarousel/blob/master/lib/jquery.jcarousel.js\n\n  $.fn.isotope = function( options, callback ) {\n    if ( typeof options === 'string' ) {\n      // call method\n      var args = Array.prototype.slice.call( arguments, 1 );\n\n      this.each(function(){\n        var instance = $.data( this, 'isotope' );\n        if ( !instance ) {\n          logError( \"cannot call methods on isotope prior to initialization; \" +\n              \"attempted to call method '\" + options + \"'\" );\n          return;\n        }\n        if ( !$.isFunction( instance[options] ) || options.charAt(0) === \"_\" ) {\n          logError( \"no such method '\" + options + \"' for isotope instance\" );\n          return;\n        }\n        // apply method\n        instance[ options ].apply( instance, args );\n      });\n    } else {\n      this.each(function() {\n        var instance = $.data( this, 'isotope' );\n        if ( instance ) {\n          // apply options & init\n          instance.option( options );\n          instance._init( callback );\n        } else {\n          // initialize new instance\n          $.data( this, 'isotope', new $.Isotope( options, this, callback ) );\n        }\n      });\n    }\n    // return jQuery object\n    // so plugin methods do not have to\n    return this;\n  };\n\n})( window, jQuery );"]}